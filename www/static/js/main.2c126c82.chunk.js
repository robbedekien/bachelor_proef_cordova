(this.webpackJsonpMusicApp=this.webpackJsonpMusicApp||[]).push([[0],{15:function(e,t,a){e.exports={DetailContainer:"musicDetail_DetailContainer__3F7RO",ImageContainer:"musicDetail_ImageContainer__1kjTM",Image:"musicDetail_Image__3sNMw",Content:"musicDetail_Content__1afEN",Title:"musicDetail_Title__3wsRh",Artist:"musicDetail_Artist__3_4W6",Info:"musicDetail_Info__3hMgz",Actions:"musicDetail_Actions__2-bCk"}},16:function(e,t,a){e.exports={CardContainer:"musicCard_CardContainer__2F4ir",ImageContainer:"musicCard_ImageContainer__4Rb-w",Image:"musicCard_Image__fgYU5",Content:"musicCard_Content__1tAC6",Title:"musicCard_Title__3qjwA",Artist:"musicCard_Artist__1MqIK",Info:"musicCard_Info__3p8Jk",Share:"musicCard_Share__GADoj"}},28:function(e,t,a){e.exports={bottomNav:"bottomNav_bottomNav__3tuo9",navItem:"bottomNav_navItem__1-eAW"}},31:function(e,t,a){e.exports={OverviewContainer:"musicOverview_OverviewContainer__1ngIt"}},49:function(e,t,a){e.exports={Button:"button_Button__l6X__"}},53:function(e,t,a){e.exports=a(84)},62:function(e,t,a){},66:function(e,t,a){},8:function(e,t,a){e.exports={Container:"musicAdd_Container__3uskf",Form:"musicAdd_Form__3fdJN",Label:"musicAdd_Label__2zDN6",Input:"musicAdd_Input__277go",ImageContainer:"musicAdd_ImageContainer__1pqk7",Image:"musicAdd_Image__3uuyY","upload-btn-wrapper":"musicAdd_upload-btn-wrapper__2CU08"}},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),s=a.n(c),i=a(27),o=a(11),u=a(17),l=a(48),m=a(52),d=(a(62),a(18));var p=a(49),_=a.n(p),E=function(e){return r.a.createElement("button",{className:_.a.Button,onClick:e.onclick},e.text)},f=a(16),b=a.n(f),g=function(e){var t="uploads"===e.image.split("/")[0]?"https://dry-temple-37388.herokuapp.com/"+e.image:e.image;return r.a.createElement("div",{className:b.a.CardContainer,onClick:function(){e.onclick()}},r.a.createElement("div",{className:b.a.ImageContainer},r.a.createElement("img",{className:b.a.Image,src:t,alt:"Song"})),r.a.createElement("div",{className:b.a.Content},r.a.createElement("h1",{className:b.a.Title},e.title),r.a.createElement("h2",{className:b.a.Artist},e.artist),r.a.createElement("h3",{className:b.a.Info},e.genre," | ",e.year),r.a.createElement("div",{className:b.a.Share},r.a.createElement(E,{onclick:function(t){t.stopPropagation(),function(e){var t={message:"Check out this song: ".concat(e,"!"),subject:e};window.plugins.socialsharing.shareWithOptions(t,(function(e){console.log("Share completed? "+e.completed),console.log("Shared to app: "+e.app)}),(function(e){console.log("Sharing failed with message: "+e)}))}(e.title)},text:"Share"}))))},v=a(31),S=a.n(v),h={NOT_RUNNING:"not running",RUNNING:"running",SUCCESS:"success",ERROR:"error"},C=function(e){var t=Object(o.b)(),a=Object(o.c)((function(e){return e.music}));Object(o.c)((function(e){return e.musicStatus}));Object(n.useEffect)((function(){a||t({type:"FETCH_MUSIC"})}));var c;return c=a?function(){var e=[];return Object.keys(a).forEach((function(t){e.push(a[t])})),e}().map((function(t){return r.a.createElement(g,{key:t.id,image:t.image,title:t.title,artist:t.artist,genre:t.genre,year:t.year,className:S.a.Card,onclick:function(){e.history.push("/detail/"+t.id)}})})):"loading",r.a.createElement("div",{className:S.a.OverviewContainer},c)},N=a(15),O=a.n(N),I=function(e){var t=Object(o.b)(),a=Object(o.c)((function(e){return e.music})),c=Object(d.f)().id,s=Object(o.c)((function(e){return e.music?e.music[c]:null}));Object(n.useEffect)((function(){a||t({type:"FETCH_MUSIC"})}));var i;if(a)if(s){var u="uploads"===s.image.split("/")[0]?"https://dry-temple-37388.herokuapp.com/"+s.image:s.image;i=r.a.createElement("div",{className:O.a.DetailContainer},r.a.createElement("div",{className:O.a.ImageContainer},r.a.createElement("img",{className:O.a.Image,src:u,alt:"album cover"})),r.a.createElement("div",{className:O.a.Content},r.a.createElement("div",{className:O.a.Title},s.title),r.a.createElement("div",{className:O.a.Artist},s.artist),r.a.createElement("div",{className:O.a.Info},s.genre," | ",s.year)),r.a.createElement("div",{className:O.a.Actions},r.a.createElement(E,{onclick:function(){var a;window.confirm("Are you sure you want to delete this song?")&&(a=s.id,t(function(e){return{type:"DELETE_SONG",songId:e}}(a)),e.history.push("/"))},text:"delete"}),r.a.createElement(E,{onclick:function(){return function(e){var t={message:"Check out this song: ".concat(e,"!"),subject:e};window.plugins.socialsharing.shareWithOptions(t,(function(e){console.log("Share completed? "+e.completed),console.log("Shared to app: "+e.app)}),(function(e){console.log("Sharing failed with message: "+e)}))}(s.title)},text:"share"})))}else e.history.push("/");else i=r.a.createElement("div",null,"loading");return r.a.createElement("div",{className:O.a.OverviewContainer},i)},j=a(20),A=a(8),y=a.n(A),D=function(e){var t=Object(o.b)(),a=Object(n.useState)(""),c=Object(j.a)(a,2),s=c[0],i=c[1],u=Object(n.useState)(""),l=Object(j.a)(u,2),m=l[0],d=l[1],p=Object(n.useState)(""),_=Object(j.a)(p,2),f=_[0],b=_[1],g=Object(n.useState)(2020),v=Object(j.a)(g,2),S=v[0],h=v[1],C=Object(n.useState)("https://via.placeholder.com/1000x1000?text=Placeholder"),N=Object(j.a)(C,2),O=N[0],I=N[1],A=Object(n.useState)(),D=Object(j.a)(A,2),T=D[0],w=D[1];return r.a.createElement("div",{className:y.a.Container},r.a.createElement("form",{className:y.a.Form,onSubmit:function(){var a=new FormData;a.set("title",s),a.set("artist",m),a.set("genre",f),a.set("year",S),a.append("album",T),function(e){t({type:"ADD_SONG",song:e})}(a),e.history.push("/")}},r.a.createElement("div",{className:y.a.ImageContainer},r.a.createElement("img",{className:y.a.Image,src:O,alt:"album cover"})),r.a.createElement("div",{className:y.a["upload-btn-wrapper"]},r.a.createElement(E,{type:"button",text:"Upload Image"}),r.a.createElement("input",{type:"file",name:"album",onChange:function(e){e.preventDefault(),w(e.target.files[0]),I(URL.createObjectURL(e.target.files[0]))}})),r.a.createElement("label",{className:y.a.Label,htmlFor:"title"},"Title",r.a.createElement("input",{type:"text",name:"title",placeholder:"Title",value:s,onChange:function(e){return i(e.target.value)},className:y.a.Input})),r.a.createElement("label",{className:y.a.Label,htmlFor:"artist"},"Artist",r.a.createElement("input",{type:"text",name:"artist",placeholder:"Artist",value:m,onChange:function(e){return d(e.target.value)},className:y.a.Input})),r.a.createElement("label",{className:y.a.Label,htmlFor:"genre"},"Genre",r.a.createElement("input",{type:"text",name:"genre",placeholder:"Genre",value:f,onChange:function(e){return b(e.target.value)},className:y.a.Input})),r.a.createElement("label",{className:y.a.Label,htmlFor:"year"},"Year",r.a.createElement("input",{type:"number",name:"year",placeholder:"Year",value:S,onChange:function(e){return h(e.target.value)},className:y.a.Input})),r.a.createElement("div",{className:y.a.Submit},r.a.createElement(E,{type:"submit",text:"Submit"}))))},T=a(28),w=a.n(T),x=a(34),k=a(36),U=function(e){Object(n.useEffect)((function(){e.history.push("/")}),[e.history]);var t=function(t){e.history.push(t)};return r.a.createElement("div",{className:w.a.bottomNav},void 0,r.a.createElement("div",{className:w.a.navItem,onClick:function(){return t("/")}},r.a.createElement(x.a,{size:"2x",icon:k.a,color:"#ff2956"}),"music"),r.a.createElement("div",{className:w.a.navItem,onClick:function(){return t("/add")}},r.a.createElement(x.a,{size:"2x",icon:k.b,color:"#ff2956"}),"add"))};a(66);var R=Object(d.g)((function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/detail/:id",component:I}),r.a.createElement(d.a,{path:"/add",component:D}),r.a.createElement(d.a,{path:"/",exact:!0,component:C})),r.a.createElement(U,{history:e.history}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(14),F=a.n(G),L=a(7),M=a(51),H=a.n(M).a.create({baseURL:"https://dry-temple-37388.herokuapp.com/api/v1"}),W=F.a.mark(J),B=F.a.mark(Y),z=F.a.mark(q);function J(e){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.b)({type:"FETCH_MUSIC_START"});case 2:return e.prev=2,e.next=5,H.get("/songs/");case 5:return t=e.sent,e.next=8,Object(L.b)({type:"FETCH_MUSIC_SUCCESS",music:t.data});case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,Object(L.b)({type:"FETCH_MUSIC_FAIL",error:e.t0});case 14:case"end":return e.stop()}}),W,null,[[2,10]])}function Y(e){var t;return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(L.b)({type:"ADD_SONG_START"});case 2:return a.prev=2,a.next=5,H.post("/songs/",e.song,{headers:{"Content-Type":"multipart/form-data"}});case 5:return t=a.sent,a.next=8,Object(L.b)({type:"ADD_SONG_SUCCESS",song:t.data});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(L.b)({type:"ADD_SONG_FAIL",error:a.t0});case 14:case"end":return a.stop()}}),B,null,[[2,10]])}function q(e){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(L.b)({type:"DELETE_SONG_START"});case 2:return t.prev=2,t.next=5,H.delete("/songs/"+e.songId);case 5:return t.next=7,Object(L.b)({type:"DELETE_SONG_SUCCESS",songId:e.songId});case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(2),t.next=13,Object(L.b)({type:"DELETE_SONG_FAIL",error:t.t0});case 13:case"end":return t.stop()}}),z,null,[[2,9]])}var P=F.a.mark(K);function K(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.a)([Object(L.c)("FETCH_MUSIC",J),Object(L.c)("ADD_SONG",Y),Object(L.c)("DELETE_SONG",q)]);case 2:case"end":return e.stop()}}),P)}var X=a(23),$=a(19),Q={musicStatus:h.NOT_RUNNING,musicAddStatus:h.NOT_RUNNING,musicDeleteStatus:h.NOT_RUNNING,music:null,musicError:"",songAddError:"",songDeleteError:""},V=function(e,t){return Object($.a)(Object($.a)({},e),t)},Z=function(e,t){return V(e,{musicStatus:h.RUNNING})},ee=function(e,t){var a;return t.music.forEach((function(e){a=Object($.a)(Object($.a)({},a),{},Object(X.a)({},e.id,e))})),V(e,{musicStatus:h.SUCCESS,music:a})},te=function(e,t){return V(e,{musicStatus:h.ERROR,musicError:t.error})},ae=function(e,t){return V(e,{musicAddStatus:h.RUNNING})},ne=function(e,t){var a=t.song,n=Object($.a)(Object($.a)({},e.music),{},Object(X.a)({},a.id,a));return V(e,{musicAddStatus:h.SUCCESS,music:n})},re=function(e,t){return V(e,{musicAddStatus:h.ERROR,musicAddError:t.error})},ce=function(e,t){return V(e,{musicDeleteStatus:h.RUNNING})},se=function(e,t){var a=Object($.a)({},e.music);return delete a[t.songId],V(e,{musicDeleteStatus:h.SUCCESS,music:a})},ie=function(e,t){return V(e,{musicDeleteStatus:h.ERROR,musicDeleteError:t.error})},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MUSIC_START":return Z(e);case"FETCH_MUSIC_SUCCESS":return ee(e,t);case"FETCH_MUSIC_FAIL":return te(e,t);case"ADD_SONG_START":return ae(e);case"ADD_SONG_SUCCESS":return ne(e,t);case"ADD_SONG_FAIL":return re(e,t);case"DELETE_SONG_START":return ce(e);case"DELETE_SONG_SUCCESS":return se(e,t);case"DELETE_SONG_FAIL":return ie(e,t);default:return e}},ue=Object(m.a)(),le=Object(u.d)(oe,Object(u.c)(Object(u.a)(l.a,ue)));ue.run(K);var me=function(){s.a.render(r.a.createElement(o.a,{store:le},r.a.createElement(i.a,null,r.a.createElement(R,null))),document.getElementById("root"))};window.cordova?document.addEventListener("deviceready",(function(){me()}),!1):me(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.2c126c82.chunk.js.map